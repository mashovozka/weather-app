(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(e,t,n){e.exports={locations:"OtherLocations_locations__2q0wA",location:"OtherLocations_location__2ll1k",infoWrapper:"OtherLocations_infoWrapper__1aiMz",deleteButton:"OtherLocations_deleteButton__eTBgh",cityName:"OtherLocations_cityName__2qQi2",weatherDetails:"OtherLocations_weatherDetails__2N31c",weatherDetail:"OtherLocations_weatherDetail__1ch5y"}},27:function(e,t,n){e.exports={wrapper:"WeatherSearch_wrapper__1_jcp",autocompleteWrapper:"WeatherSearch_autocompleteWrapper__AiDbZ",input:"WeatherSearch_input__13Hi_",dropdown:"WeatherSearch_dropdown__1sL4x",info:"WeatherSearch_info__1A3NP"}},67:function(e,t,n){},68:function(e,t,n){},9:function(e,t,n){e.exports={weatherWrapper:"currentLocation_weatherWrapper__GdMHf",textWrapper:"currentLocation_textWrapper__2PvQM",location:"currentLocation_location__2f_6r",date:"currentLocation_date__14ErJ",weatherDetails:"currentLocation_weatherDetails__2QUfA",tempDetails:"currentLocation_tempDetails__3biFn",tempWrapper:"currentLocation_tempWrapper__2Eizi",temp:"currentLocation_temp__3l_W2",minAmdMax:"currentLocation_minAmdMax__2sJfu",otherDetails:"currentLocation_otherDetails__2gIRH",preloader:"currentLocation_preloader__MDtmR",error:"currentLocation_error__2rNbP",sadFace:"currentLocation_sadFace__1q4-O"}},95:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"GET_MAIN_WEATHER_SUCCESS",(function(){return E})),n.d(a,"GET_MAIN_WEATHER_FAILURE",(function(){return L})),n.d(a,"weatherFailure",(function(){return g})),n.d(a,"setCurrentLocationWeather",(function(){return N})),n.d(a,"getCurrentLocationWeather",(function(){return w}));var r={};n.r(r),n.d(r,"GET_OTHER_LOCATION_WEATHER",(function(){return W})),n.d(r,"GET_OTHER_LOCATION_WEATHER_SUCCESS",(function(){return S})),n.d(r,"DELETE_LOCATION",(function(){return A})),n.d(r,"ADD_NEW_LOCATION_TO_LIST",(function(){return C})),n.d(r,"addNewLocationToList",(function(){return D})),n.d(r,"deleteLocation",(function(){return I})),n.d(r,"setOtherLocationWeather",(function(){return H})),n.d(r,"getOtherLocationWeather",(function(){return M}));var c=n(2),i=n(0),o=n.n(i),s=n(5),u=n.n(s),d=(n(67),n(68),n(12)),l=n(9),p=n.n(l),h=function(e){var t=new Date((new Date).setHours((new Date).getHours()+(new Date).getTimezoneOffset()/60)),n=new Date(t.setHours(t.getHours()+e/3600)),a=n.getHours(),r=n.getMinutes(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],i=n.getDate();return"".concat(a,":").concat(r<10?"0".concat(r):r,", ").concat(c," ").concat(i)},j=n.p+"static/media/spinner.b767aab4.svg",O=(n.p,n(15)),_=n.n(O),b=n(23),m=n(54),f="b8bf13ed5333b61d48834aebf903865a",x=n.n(m).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),v=function(e){return x.get("/weather?lat=".concat(e.lat,"&lon=").concat(e.lng,"&units=metric&appid=").concat(f))},E="GET_WEATHER_SUCCESS",L="GET_WEATHER_FAILURE",g=function(e){return{type:L,payload:e}},N=function(e){return{type:E,payload:e}},w=function(e){return function(){var t=Object(b.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e).then((function(e){n(N(e.data))})).catch((function(e){n(g(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function T(){var e=Object(d.b)();Object(i.useEffect)((function(){console.log("in useEffect"),navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,a=n.latitude,r=n.longitude;console.log({latitude:a,longitude:r}),e(w({lat:a,lng:r}))}))}),[e]),console.log("in current location");var t=Object(d.c)((function(e){return e.currentLocationWeather}));console.log(t);var n,a=function(e){return"".concat(new Date(1e3*e).getHours(),":").concat(new Date(1e3*e).getMinutes())};return Object(c.jsx)("div",{className:p.a.wrapper,"data-test":"component-currentLocation",children:Object(c.jsxs)("div",{className:p.a.weatherWrapper,children:[t&&Object(c.jsxs)("div",{className:p.a.textWrapper,"data-test":"weather",children:[Object(c.jsxs)("div",{className:p.a.location,children:[t.name,", ",t.sys.country]}),Object(c.jsx)("div",{className:p.a.date,children:h(t.timezone)}),Object(c.jsxs)("div",{className:p.a.weatherDetails,children:[Object(c.jsxs)("div",{className:p.a.tempDetails,children:[Object(c.jsxs)("div",{className:p.a.tempWrapper,children:[Object(c.jsx)("img",{className:p.a.tempImg,src:"https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"weather img"}),Object(c.jsxs)("div",{className:p.a.temp,children:[Math.round(t.main.temp),"\xb0C"]})]}),Object(c.jsxs)("div",{className:p.a.minAmdMax,children:[Object(c.jsx)("div",{children:t.weather[0].description}),Object(c.jsxs)("div",{children:["feels like: ",Math.round(t.main.feels_like)]}),Object(c.jsxs)("div",{children:["Max: ",Math.round(t.main.temp_max),"\xb0C"]}),Object(c.jsxs)("div",{children:["Min: ",Math.round(t.main.temp_min),"\xb0C"]})]})]}),Object(c.jsxs)("div",{className:p.a.otherDetails,children:[Object(c.jsxs)("div",{children:["Humidity: ",t.main.humidity,"%"]}),Object(c.jsxs)("div",{children:["Pressure: ",t.main.pressure," hPa"]}),Object(c.jsxs)("div",{children:["Visibility: ",t.visibility/1e3,"km"]}),Object(c.jsxs)("div",{children:["Wind: ",t.wind.speed," m/s ",(n=t.wind.deg,n>11.25&&n<=33.75?"NNE":n>33.75&&n<=56.25?"ENE":n>56.25&&n<=78.75?"E":n>78.75&&n<=101.25||n>101.25&&n<=123.75?"ESE":n>123.75&&n<=146.25?"SE":n>146.25&&n<=168.75?"SSE":n>168.75&&n<=191.25?"S":n>191.25&&n<=213.75?"SSW":n>213.75&&n<=236.25?"SW":n>236.25&&n<=258.75?"WSW":n>258.75&&n<=281.25?"W":n>281.25&&n<=303.75?"WNW":n>303.75&&n<=326.25?"NW":n>326.25&&n<=348.75?"NNW":"N")]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:["Sunrise: ",a(t.sys.sunrise)]}),Object(c.jsxs)("div",{children:["Sunset: ",a(t.sys.sunset)]})]})]})]})]}),!t&&Object(c.jsx)("div",{className:p.a.preloader,"data-test":"spinner",children:Object(c.jsx)("img",{src:j,alt:"loading..."})})]})})}var y=n(37),W="GET_OTHER_LOCATION_WEATHER",S="GET_OTHER_LOCATION_WEATHER_SUCCESS",A="DELETE_LOCATION",C="ADD_NEW_LOCATION_TO_LIST",D=function(e){return{type:C,payload:e}},I=function(e){return{type:A,payload:e}},H=function(e){return{type:S,payload:e}},M=function(e){return function(){var t=Object(b.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e).then((function(e){n(H(e.data))})).catch((function(e){n(g(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=n(19),k=n.n(R),F=n(116);function G(){var e=Object(d.c)((function(e){return e.otherLocations})),t=Object(d.c)((function(e){return e.newOtherLocation})),n=Object(d.b)(),o=Object(i.useState)(""),s=Object(y.a)(o,2),u=s[0],l=s[1],p=e.every((function(e){return e.id!==t.id}));Object(i.useEffect)((function(){t&&n(p?r.addNewLocationToList(t):a.getWeatherFailure({type:"error",message:"Location already exists"}))}),[t]);return Object(c.jsx)("div",{className:k.a.locations,children:e.map((function(e){return Object(c.jsxs)("div",{className:k.a.location,style:{opacity:"".concat(u===e.id?0:1)},children:[Object(c.jsx)(F.a,{variant:"outlined",className:k.a.deleteButton,onClick:function(){return t=e.id,l(t),void setTimeout((function(){n(r.deleteLocation(t))}),1e3);var t},children:"delete"}),Object(c.jsxs)("div",{className:k.a.cityName,children:[e.name,", ",e.sys.country]}),Object(c.jsxs)("div",{className:k.a.weatherDetails,children:[Object(c.jsx)("img",{className:k.a.tempImg,src:"https://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:"weather img"}),Object(c.jsxs)("span",{className:k.a.weatherDetail,children:[Math.round(e.main.temp),"\xb0C"]}),Object(c.jsxs)("span",{className:k.a.weatherDetail,children:["feels like: ",Math.round(e.main.feels_like)]})]})]},e.id)}))})}var P=n(8),U=n(27),B=n.n(U),J=n(33),q=n.n(J);function z(){var e=Object(i.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(d.b)(),o=function(){var e=Object(b.a)(_.a.mark((function e(t){var n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(J.getLatLng)(n[0]);case 5:c=e.sent,r(M(c)),a("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:B.a.wrapper,children:[Object(c.jsxs)("div",{className:B.a.info,children:[Object(c.jsxs)("p",{children:["Type a city name and see its weather on the map!",Object(c.jsx)("br",{}),"Click the icon to expand."]}),Object(c.jsxs)("p",{children:["\u0412\u043f\u0438\u0448\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0435\u0433\u043e \u043f\u043e\u0433\u043e\u0434\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435!",Object(c.jsx)("br",{}),"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0435\u0442\u0430\u043b\u0435\u0439"]})]}),Object(c.jsx)(q.a,{searchOptions:{types:["(cities)"]},value:n,onChange:a,onSelect:o,children:function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,r=e.loading;return Object(c.jsxs)("div",{className:B.a.autocompleteWrapper,children:[Object(c.jsx)("input",Object(P.a)({},t({placeholder:"Type city",className:"".concat(B.a.input)}))),Object(c.jsxs)("div",{className:B.a.dropdown,style:{visibility:"".concat(n.length>0?"visible":"hidden"),border:"1px solid purple"},children:[r?Object(c.jsx)("div",{children:"...loading"}):null,n.map((function(e,t){var n={background:e.active?"#E9DEFF":"white",padding:"3px 5px"};return Object(c.jsx)("div",Object(P.a)(Object(P.a)({},a(e,{style:n})),{},{children:e.description}),t)}))]})]})}})]})}var Q=n(36),V=function(e){var t=e.children,n=Object(Q.b)(),a=n.enqueueSnackbar,r=n.closeSnackbar,c=Object(d.c)((function(e){return e.error}));return Object(i.useEffect)((function(){if(c&&c.message)var e=a(c.message,{variant:c.type,onClick:function(){r(e)}})}),[c,r,a]),t};var Z=function(){return Object(c.jsx)(Q.a,{maxSnack:10,children:Object(c.jsx)(V,{children:Object(c.jsxs)("div",{className:"wrapper","data-test":"appComponent",children:[Object(c.jsx)("h1",{className:"header",children:"WEATHER APP"}),Object(c.jsxs)("div",{className:"content-wrapper",children:[Object(c.jsx)("div",{className:"MainInfo",children:Object(c.jsx)(T,{})}),Object(c.jsxs)("div",{className:"otherLocations",children:[Object(c.jsx)(z,{}),Object(c.jsx)(G,{})]}),Object(c.jsx)("div",{className:"MapsWrapper"})]})]})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},X=n(29),Y=n(59),$={currentLocationWeather:"",otherLocations:[],newOtherLocation:"",error:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.GET_MAIN_WEATHER_SUCCESS:return Object(P.a)(Object(P.a)({},e),{},{currentLocationWeather:t.payload});case r.GET_OTHER_LOCATION_WEATHER_SUCCESS:return Object(P.a)(Object(P.a)({},e),{},{newOtherLocation:t.payload});case r.ADD_NEW_LOCATION_TO_LIST:return Object(P.a)(Object(P.a)({},e),{},{otherLocations:[t.payload].concat(Object(Y.a)(e.otherLocations))});case a.GET_MAIN_WEATHER_FAILURE:return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});case r.DELETE_LOCATION:return Object(P.a)(Object(P.a)({},e),{},{otherLocations:e.otherLocations.filter((function(e){return e.id!==t.payload}))});default:return e}},te=[n(58).a],ne=X.a.apply(void 0,te)(X.c)(ee);u.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(d.a,{store:ne,children:Object(c.jsx)(Z,{})})}),document.getElementById("root")),K()}},[[95,1,2]]]);
//# sourceMappingURL=main.ba4e160f.chunk.js.map